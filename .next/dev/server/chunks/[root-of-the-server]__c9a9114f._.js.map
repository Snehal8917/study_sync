{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/snehalprajapati/Desktop/AGILE/study-sync-app-build/lib/validations.ts"],"sourcesContent":["import { z } from \"zod\"\n\nexport const registerSchema = z.object({\n  name: z.string().min(2, \"Name must be at least 2 characters\"),\n  email: z.string().email(\"Invalid email\"),\n  password: z.string().min(6, \"Password must be at least 6 characters\"),\n})\n\nexport const loginSchema = z.object({\n  email: z.string().email(\"Invalid email\"),\n  password: z.string().min(1, \"Password required\"),\n})\n\nexport const taskSchema = z.object({\n  title: z.string().min(1, \"Title required\"),\n  subject: z.string().min(1, \"Subject required\"),\n  dueDate: z.string().optional(),\n  description: z.string().optional(),\n})\n\nexport const sessionSchema = z.object({\n  taskId: z.string().min(1, \"Task ID required\"),\n  duration: z.number().min(1, \"Duration must be positive\"),\n  notes: z.string().optional(),\n})\n\nexport type RegisterInput = z.infer<typeof registerSchema>\nexport type LoginInput = z.infer<typeof loginSchema>\nexport type TaskInput = z.infer<typeof taskSchema>\nexport type SessionInput = z.infer<typeof sessionSchema>\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAEO,MAAM,iBAAiB,yKAAC,CAAC,MAAM,CAAC;IACrC,MAAM,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IACxB,OAAO,yKAAC,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,UAAU,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;AAC9B;AAEO,MAAM,cAAc,yKAAC,CAAC,MAAM,CAAC;IAClC,OAAO,yKAAC,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,UAAU,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;AAC9B;AAEO,MAAM,aAAa,yKAAC,CAAC,MAAM,CAAC;IACjC,OAAO,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IACzB,SAAS,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC3B,SAAS,yKAAC,CAAC,MAAM,GAAG,QAAQ;IAC5B,aAAa,yKAAC,CAAC,MAAM,GAAG,QAAQ;AAClC;AAEO,MAAM,gBAAgB,yKAAC,CAAC,MAAM,CAAC;IACpC,QAAQ,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC1B,UAAU,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC5B,OAAO,yKAAC,CAAC,MAAM,GAAG,QAAQ;AAC5B"}},
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///Users/snehalprajapati/Desktop/AGILE/study-sync-app-build/lib/fs.ts"],"sourcesContent":["import { promises as fs } from \"fs\"\nimport path from \"path\"\n\nconst DATA_DIR = path.join(process.cwd(), \"data\")\n\nexport async function readJSON(filename: string) {\n  try {\n    const filePath = path.join(DATA_DIR, filename)\n    const data = await fs.readFile(filePath, \"utf-8\")\n    return JSON.parse(data)\n  } catch (error) {\n    return []\n  }\n}\n\nexport async function writeJSON(filename: string, data: any) {\n  try {\n    const filePath = path.join(DATA_DIR, filename)\n    await fs.mkdir(DATA_DIR, { recursive: true })\n    await fs.writeFile(filePath, JSON.stringify(data, null, 2))\n  } catch (error) {\n    console.error(`Error writing to ${filename}:`, error)\n  }\n}\n\nexport function generateId() {\n  return `${Date.now()}_${Math.random().toString(36).substr(2, 9)}`\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAEA,MAAM,WAAW,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI;AAEnC,eAAe,SAAS,QAAgB;IAC7C,IAAI;QACF,MAAM,WAAW,4GAAI,CAAC,IAAI,CAAC,UAAU;QACrC,MAAM,OAAO,MAAM,yGAAE,CAAC,QAAQ,CAAC,UAAU;QACzC,OAAO,KAAK,KAAK,CAAC;IACpB,EAAE,OAAO,OAAO;QACd,OAAO,EAAE;IACX;AACF;AAEO,eAAe,UAAU,QAAgB,EAAE,IAAS;IACzD,IAAI;QACF,MAAM,WAAW,4GAAI,CAAC,IAAI,CAAC,UAAU;QACrC,MAAM,yGAAE,CAAC,KAAK,CAAC,UAAU;YAAE,WAAW;QAAK;QAC3C,MAAM,yGAAE,CAAC,SAAS,CAAC,UAAU,KAAK,SAAS,CAAC,MAAM,MAAM;IAC1D,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,iBAAiB,EAAE,SAAS,CAAC,CAAC,EAAE;IACjD;AACF;AAEO,SAAS;IACd,OAAO,GAAG,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG,IAAI;AACnE"}},
    {"offset": {"line": 140, "column": 0}, "map": {"version":3,"sources":["file:///Users/snehalprajapati/Desktop/AGILE/study-sync-app-build/lib/bcrypt.ts"],"sourcesContent":["import crypto from \"crypto\"\n\nexport async function hashPassword(password: string): Promise<string> {\n  return crypto.createHash(\"sha256\").update(password).digest(\"hex\")\n}\n\nexport async function comparePassword(password: string, hash: string): Promise<boolean> {\n  const hashedPassword = crypto.createHash(\"sha256\").update(password).digest(\"hex\")\n  return hashedPassword === hash\n}\n"],"names":[],"mappings":";;;;;;AAAA;;AAEO,eAAe,aAAa,QAAgB;IACjD,OAAO,gHAAM,CAAC,UAAU,CAAC,UAAU,MAAM,CAAC,UAAU,MAAM,CAAC;AAC7D;AAEO,eAAe,gBAAgB,QAAgB,EAAE,IAAY;IAClE,MAAM,iBAAiB,gHAAM,CAAC,UAAU,CAAC,UAAU,MAAM,CAAC,UAAU,MAAM,CAAC;IAC3E,OAAO,mBAAmB;AAC5B"}},
    {"offset": {"line": 159, "column": 0}, "map": {"version":3,"sources":["file:///Users/snehalprajapati/Desktop/AGILE/study-sync-app-build/lib/jwt.ts"],"sourcesContent":["import crypto from \"crypto\"\n\nconst SECRET = process.env.JWT_SECRET || \"study-sync-secret-key-change-in-production\"\n\ninterface JWTPayload {\n  id: string\n  email: string\n  name: string\n  iat?: number\n  exp?: number\n}\n\nexport function generateToken(payload: JWTPayload): string {\n  const header = Buffer.from(JSON.stringify({ alg: \"HS256\", typ: \"JWT\" })).toString(\"base64url\")\n\n  const now = Math.floor(Date.now() / 1000)\n  const tokenPayload = {\n    ...payload,\n    iat: now,\n    exp: now + 7 * 24 * 60 * 60,\n  }\n\n  const body = Buffer.from(JSON.stringify(tokenPayload)).toString(\"base64url\")\n  const signature = crypto.createHmac(\"sha256\", SECRET).update(`${header}.${body}`).digest(\"base64url\")\n\n  return `${header}.${body}.${signature}`\n}\n\nexport function verifyToken(token: string): JWTPayload | null {\n  try {\n    const [header, body, signature] = token.split(\".\")\n    const expectedSignature = crypto.createHmac(\"sha256\", SECRET).update(`${header}.${body}`).digest(\"base64url\")\n\n    if (signature !== expectedSignature) {\n      return null\n    }\n\n    const payload = JSON.parse(Buffer.from(body, \"base64url\").toString())\n\n    if (payload.exp && payload.exp < Math.floor(Date.now() / 1000)) {\n      return null\n    }\n\n    return payload\n  } catch (error) {\n    return null\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM,SAAS,QAAQ,GAAG,CAAC,UAAU,IAAI;AAUlC,SAAS,cAAc,OAAmB;IAC/C,MAAM,SAAS,OAAO,IAAI,CAAC,KAAK,SAAS,CAAC;QAAE,KAAK;QAAS,KAAK;IAAM,IAAI,QAAQ,CAAC;IAElF,MAAM,MAAM,KAAK,KAAK,CAAC,KAAK,GAAG,KAAK;IACpC,MAAM,eAAe;QACnB,GAAG,OAAO;QACV,KAAK;QACL,KAAK,MAAM,IAAI,KAAK,KAAK;IAC3B;IAEA,MAAM,OAAO,OAAO,IAAI,CAAC,KAAK,SAAS,CAAC,eAAe,QAAQ,CAAC;IAChE,MAAM,YAAY,gHAAM,CAAC,UAAU,CAAC,UAAU,QAAQ,MAAM,CAAC,GAAG,OAAO,CAAC,EAAE,MAAM,EAAE,MAAM,CAAC;IAEzF,OAAO,GAAG,OAAO,CAAC,EAAE,KAAK,CAAC,EAAE,WAAW;AACzC;AAEO,SAAS,YAAY,KAAa;IACvC,IAAI;QACF,MAAM,CAAC,QAAQ,MAAM,UAAU,GAAG,MAAM,KAAK,CAAC;QAC9C,MAAM,oBAAoB,gHAAM,CAAC,UAAU,CAAC,UAAU,QAAQ,MAAM,CAAC,GAAG,OAAO,CAAC,EAAE,MAAM,EAAE,MAAM,CAAC;QAEjG,IAAI,cAAc,mBAAmB;YACnC,OAAO;QACT;QAEA,MAAM,UAAU,KAAK,KAAK,CAAC,OAAO,IAAI,CAAC,MAAM,aAAa,QAAQ;QAElE,IAAI,QAAQ,GAAG,IAAI,QAAQ,GAAG,GAAG,KAAK,KAAK,CAAC,KAAK,GAAG,KAAK,OAAO;YAC9D,OAAO;QACT;QAEA,OAAO;IACT,EAAE,OAAO,OAAO;QACd,OAAO;IACT;AACF"}},
    {"offset": {"line": 203, "column": 0}, "map": {"version":3,"sources":["file:///Users/snehalprajapati/Desktop/AGILE/study-sync-app-build/app/api/auth/register/route.ts"],"sourcesContent":["import { type NextRequest, NextResponse } from \"next/server\"\nimport { registerSchema } from \"@/lib/validations\"\nimport { readJSON, writeJSON, generateId } from \"@/lib/fs\"\nimport { hashPassword } from \"@/lib/bcrypt\"\nimport { generateToken } from \"@/lib/jwt\"\n\nexport async function POST(request: NextRequest) {\n  try {\n    const body = await request.json()\n    const { name, email, password } = registerSchema.parse(body)\n\n    const users = await readJSON(\"users.json\")\n\n    if (users.some((u: any) => u.email === email)) {\n      return NextResponse.json({ error: \"Email already exists\" }, { status: 400 })\n    }\n\n    const hashedPassword = await hashPassword(password)\n    const userId = generateId()\n\n    const newUser = {\n      id: userId,\n      name,\n      email,\n      password: hashedPassword,\n      theme: \"light\",\n      createdAt: new Date().toISOString(),\n    }\n\n    users.push(newUser)\n    await writeJSON(\"users.json\", users)\n\n    const token = generateToken({ id: userId, email, name })\n\n    return NextResponse.json(\n      {\n        token,\n        user: { id: userId, name, email },\n      },\n      { status: 201 },\n    )\n  } catch (error: any) {\n    return NextResponse.json({ error: error.message }, { status: 400 })\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,sIAAc,CAAC,KAAK,CAAC;QAEvD,MAAM,QAAQ,MAAM,IAAA,uHAAQ,EAAC;QAE7B,IAAI,MAAM,IAAI,CAAC,CAAC,IAAW,EAAE,KAAK,KAAK,QAAQ;YAC7C,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAuB,GAAG;gBAAE,QAAQ;YAAI;QAC5E;QAEA,MAAM,iBAAiB,MAAM,IAAA,+HAAY,EAAC;QAC1C,MAAM,SAAS,IAAA,yHAAU;QAEzB,MAAM,UAAU;YACd,IAAI;YACJ;YACA;YACA,UAAU;YACV,OAAO;YACP,WAAW,IAAI,OAAO,WAAW;QACnC;QAEA,MAAM,IAAI,CAAC;QACX,MAAM,IAAA,wHAAS,EAAC,cAAc;QAE9B,MAAM,QAAQ,IAAA,6HAAa,EAAC;YAAE,IAAI;YAAQ;YAAO;QAAK;QAEtD,OAAO,gJAAY,CAAC,IAAI,CACtB;YACE;YACA,MAAM;gBAAE,IAAI;gBAAQ;gBAAM;YAAM;QAClC,GACA;YAAE,QAAQ;QAAI;IAElB,EAAE,OAAO,OAAY;QACnB,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO,MAAM,OAAO;QAAC,GAAG;YAAE,QAAQ;QAAI;IACnE;AACF"}}]
}